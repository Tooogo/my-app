{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/togo/my-app/src/lib/mongodb.ts"],"sourcesContent":["import { MongoClient } from \"mongodb\";\n\nif (!process.env.MONGODB_URI) {\n  throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\n\nconst uri = process.env.MONGODB_URI;\nconst options = {};\n\nlet client: MongoClient;\n\nif (process.env.NODE_ENV === \"development\") {\n  // In development mode, use a global variable so that the value\n  // is preserved across module reloads caused by HMR (Hot Module Replacement).\n  let globalWithMongo = global as typeof globalThis & {\n    _mongoClient?: MongoClient;\n  };\n\n  if (!globalWithMongo._mongoClient) {\n    globalWithMongo._mongoClient = new MongoClient(uri, options);\n  }\n  client = globalWithMongo._mongoClient;\n} else {\n  // In production mode, it's best to not use a global variable.\n  client = new MongoClient(uri, options);\n}\n\n// Export a module-scoped MongoClient. By doing this in a\n// separate module, the client can be shared across functions.\nexport default client;"],"names":[],"mappings":";;;AAAA;AAEK;;AAAL,IAAI,CAAC,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AAEJ,wCAA4C;IAC1C,+DAA+D;IAC/D,6EAA6E;IAC7E,IAAI,kBAAkB;IAItB,IAAI,CAAC,gBAAgB,YAAY,EAAE;QACjC,gBAAgB,YAAY,GAAG,IAAI,0IAAA,CAAA,cAAW,CAAC,KAAK;IACtD;IACA,SAAS,gBAAgB,YAAY;AACvC,OAAO;;AAGP;uCAIe"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/togo/my-app/src/app/services/index.ts"],"sourcesContent":["import { promises } from \"dns\";\nimport { routing } from \"../../i18n/routing\"\nimport { useLocale, useTranslations } from 'next-intl';\nimport client from \"../../lib/mongodb\";\nimport {MongoProfile} from \"./type\"\nconst DATABASE = \"DATABASE_TEST1\"\nconst COLLECTION = \"COLLECTION_TEST1\"\nimport { ObjectId } from 'mongodb'\n\nfunction getDatabase() {\n    return client.db(DATABASE);\n}\n\nfunction getCollection() {\n    return getDatabase().collection<MongoProfile>(COLLECTION);\n}\n\n\n// locale に応じたプロフィールを取得する関数\nexport async function getProfiles(locale: string): Promise<MongoProfile[]> {\n    return await getCollection().find({ locale }).toArray() as MongoProfile[];\n}\nexport async function getProfileById(id: string): Promise<MongoProfile> {\n  return await getCollection().findOne({ _id: new ObjectId(id) }) as MongoProfile;\n}\n// locale に応じた1件のプロフィールを取得する関数\nexport async function getProfile(locale: string, id: string): Promise<MongoProfile | null> {\n    const profiles = await getProfiles(locale);  // profilesの取得\n    console.log(profiles)\n    return profiles.find(profile => profile._id === id) || null;  // _idで検索して一致するものを返す\n}\n\n\n/*\n// TODO #3 refactor to shared db service\nexport async function getProfiles(): Promise<MongoProfile[]> {\n    const profiles = await getCollection().find({}).toArray();\n        return profiles as MongoProfile[];\n    }\n    \n\n// TODO #2 Change to fetching from Mongo\nexport async function getProfile(index: number): Promise<MongoProfile> {\n    const profiles = await getProfiles();\n    return profiles[index];\n}\n\ngetProfiles().then((profiles) => console.log(profiles)).catch(console.error);\n\n// TODO #4 How to support multiple languages?\nexport function getProfile_eng(index: number) {\n    return profiles_eng[index];\n}\n\nexport function getProfiles_eng() {\n    return profiles_eng;\n}\n*/\n\n\n\n/*\n// Function to get profiles based on locale from params\nexport function getProfile(index: number) {\n    const locale = useLocale();\n  \n    if (locale === \"ja\") {\n      return profiles[index];\n    } else if (locale === \"en\") {\n      return profiles_eng[index];\n    } else {\n      throw new Error(\"Unsupported locale\");\n    }\n  }\n\n\n  // Example usage\n  export function getProfiles(\n    index: number,\n    params: { locale: string }\n  ): Profile {\n    const selectedProfiles = getProfile(index);\n    return selectedProfiles[index];\n  }\n*/"],"names":[],"mappings":";;;;;AAGA;AAIA;;AAFA,MAAM,WAAW;AACjB,MAAM,aAAa;;AAGnB,SAAS;IACL,OAAO,wHAAA,CAAA,UAAM,CAAC,EAAE,CAAC;AACrB;AAEA,SAAS;IACL,OAAO,cAAc,UAAU,CAAe;AAClD;AAIO,eAAe,YAAY,MAAc;IAC5C,OAAO,MAAM,gBAAgB,IAAI,CAAC;QAAE;IAAO,GAAG,OAAO;AACzD;AACO,eAAe,eAAe,EAAU;IAC7C,OAAO,MAAM,gBAAgB,OAAO,CAAC;QAAE,KAAK,IAAI,0IAAA,CAAA,WAAQ,CAAC;IAAI;AAC/D;AAEO,eAAe,WAAW,MAAc,EAAE,EAAU;IACvD,MAAM,WAAW,MAAM,YAAY,SAAU,cAAc;IAC3D,QAAQ,GAAG,CAAC;IACZ,OAAO,SAAS,IAAI,CAAC,CAAA,UAAW,QAAQ,GAAG,KAAK,OAAO,MAAO,oBAAoB;AACtF,EAGA;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,IAIA;;;;;;;;;;;;;;;;;;;;;;;AAuBA"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///Users/togo/my-app/src/app/en/family/%5Bid%5D/page.tsx"],"sourcesContent":["// src/app/page.tsx\n'use client';\n\nimport Image from \"next/image\";\nimport { useLocale, useTranslations } from 'next-intl';\nimport { useRouter } from 'next/router';\nimport { getProfile } from \"@/app/services\"\n\n\nconst headerFormatting = (block: string, h2Count: number): string => {\n  switch (block) {\n    case \"h1\":\n      return `${2}.`;\n    case \"h2\":\n      return `2.${h2Count}`;\n    default:\n      return \"\";\n  }\n};\n\nconst textStyling = (block: string): string => {\n  switch (block) {\n    case \"h1\":\n      return \"text-4xl font-bold\";\n    case \"h2\":\n      return \"text-2xl font-medium\";\n    case \"h3\":\n      return \"text-sm font-normal\";\n    default:\n      return \"\";\n  }\n};\n\n// TODO #6 Merge en/ja FamilyMember component to one shared component\nexport default async function FamilyMember({ params }: {\n  params: { id: string , locale: string}\n}) {\n  const t = useTranslations('Home');\n  const locale = \"en\";\n  const profile = await getProfile(locale, params.id);\n  \n  if (!profile) {\n    return <div>{t('profileNotFound')}</div>; // プロフィールが見つからない場合のエラーメッセージ\n  }\n  let h2Count = 0;  // h2が出てきた回数をカウントする変数\n\n  return (\n    <div className=\"grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-mono)]\">\n      <main className=\"flex flex-col gap-8 row-start-2 items-center sm:items-start\">\n        <Image\n          className=\"dark:invert\"\n          src=\"/sauna3.png\"\n          alt=\"Next.js logo\"\n          width={300}\n          height={50}\n          priority\n        />\n        <ol className=\"list-inside list-decimal text-sm text-center sm:text-left font-[family-name:var(--font-geist-mono)]\">\n          <li className=\"marker:text-4xl font-bold\">\n            <span className=\"text-4xl font-bold\">{t('selfIntroduction')}</span><br />\n            {t('name')}: {profile.name}<br />\n            {t('hobby')}: {profile.hobby}<br />\n            {t('area')}: {profile.area}<br />\n            {t('club')}: {profile.club}<br />\n            {t('partTimeJob')}: {profile.part_time_job}\n          </li>\n\n          {\n            profile.self_introduction.map((block, index) => {\n              if (block.type === \"h2\") {\n                h2Count++;\n              }\n              const textStyle = textStyling(block.type);\n              const sectionFormatting = headerFormatting(block.type, h2Count);\n\n              return (\n                <div key={block.id || index} className=\"mb-2 marker:text-xl\">\n                  <span className={`${textStyle}`}>{sectionFormatting} {block.content}</span><br />\n                </div>\n              );\n            })}\n\n        </ol>\n      </main>\n      <div className=\"flex gap-4 items-center flex-col sm:flex-row\">\n        <a\n          className=\"rounded-full border border-solid border-transparent transition-colors flex items-center justify-center bg-foreground text-background gap-2 hover:bg-[#383838] dark:hover:bg-[#ccc] text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5\"\n          href=\"https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Image\n            className=\"dark:invert\"\n            src=\"/vercel.svg\"\n            alt=\"Vercel logomark\"\n            width={20}\n            height={20}\n          />\n          Deploy now\n        </a>\n        <a\n          className=\"rounded-full border border-solid border-black/[.08] dark:border-white/[.145] transition-colors flex items-center justify-center hover:bg-[#f2f2f2] dark:hover:bg-[#1a1a1a] hover:border-transparent text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 sm:min-w-44\"\n          href=\"https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Read our docs\n        </a>\n      </div>\n\n      <footer className=\"row-start-3 flex gap-6 flex-wrap items-center justify-center\">\n        <a\n          className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n          href=\"https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Image\n            aria-hidden\n            src=\"/file.svg\"\n            alt=\"File icon\"\n            width={16}\n            height={16}\n          />\n          Learn\n        </a>\n        <a\n          className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n          href=\"https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Image\n            aria-hidden\n            src=\"/window.svg\"\n            alt=\"Window icon\"\n            width={16}\n            height={16}\n          />\n          Examples\n        </a>\n        <a\n          className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n          href=\"https://nextjs.org?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Image\n            aria-hidden\n            src=\"/globe.svg\"\n            alt=\"Globe icon\"\n            width={16}\n            height={16}\n          />\n          Go to nextjs.org →\n        </a>\n      </footer>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}